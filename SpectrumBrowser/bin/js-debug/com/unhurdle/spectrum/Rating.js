/**
 * Generated by Apache Royale Compiler from com/unhurdle/spectrum/Rating.as
 * com.unhurdle.spectrum.Rating
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('com.unhurdle.spectrum.Rating');
/* Royale Dependency List: com.unhurdle.spectrum.Icon,com.unhurdle.spectrum.const.IconType,com.unhurdle.spectrum.newElement,org.apache.royale.core.UIBase,org.apache.royale.core.WrappedHTMLElement,org.apache.royale.html.elements.Span,org.apache.royale.utils.Language*/

goog.require('com.unhurdle.spectrum.SpectrumBase');



/**
 * <inject_html>
 * <link rel="stylesheet" href="assets/css/components/rating/dist.css">
 * </inject_html>
 * 
 * @constructor
 * @extends {com.unhurdle.spectrum.SpectrumBase}
 */
com.unhurdle.spectrum.Rating = function() {
  com.unhurdle.spectrum.Rating.base(this, 'constructor');
};
goog.inherits(com.unhurdle.spectrum.Rating, com.unhurdle.spectrum.SpectrumBase);


/**
 * @protected
 * @override
 */
com.unhurdle.spectrum.Rating.prototype.getSelector = function() {
  return "spectrum-Rating";
};


/**
 * @private
 * @type {HTMLInputElement}
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating_input = null;


/**
 * @protected
 * @override
 */
com.unhurdle.spectrum.Rating.prototype.createElement = function() {
  com.unhurdle.spectrum.Rating.superClass_.createElement.apply(this);
  this.com_unhurdle_spectrum_Rating_input = com.unhurdle.spectrum.newElement("input");
  this.com_unhurdle_spectrum_Rating_input.className = this.appendSelector("-input");
  this.com_unhurdle_spectrum_Rating_input.type = "range";
  this.element.appendChild(this.com_unhurdle_spectrum_Rating_input);
  this.max = 5;
  this.value = 0;
  return this.element;
};


/**
 * @override
 */
com.unhurdle.spectrum.Rating.prototype.addedToParent = function() {
  com.unhurdle.spectrum.Rating.superClass_.addedToParent.apply(this);
  this.value = this.value;
};


/**
 * @private
 * @param {*} ev
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating_handleClick = function(ev) {
  if (this.com_unhurdle_spectrum_Rating__readOnly) {
    return;
  }
  if (ev["target"]) {
    var /** @type {number} */ index = this.getElementIndex(ev["target"]);
    if (!isNaN(index)) {
      if (this.value == index) {
        this.value = 0;
      } else {
        this.value = index;
      }
    }
  }
};


/**
 * @private
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating_validateIconElements = function() {
  while (this.numElements > this.max + 1) {
    var /** @type {org.apache.royale.core.UIBase} */ elem = this.getElementAt((this.numElements - 1) >> 0);
    elem.removeEventListener("click", org.apache.royale.utils.Language.closure(this.com_unhurdle_spectrum_Rating_handleClick, this, 'com_unhurdle_spectrum_Rating_handleClick'));
    this.removeElement(elem);
  }
  while (this.numElements < this.max + 1) {
    var /** @type {org.apache.royale.html.elements.Span} */ span = new org.apache.royale.html.elements.Span();
    span.className = this.appendSelector("-icon");
    var /** @type {string} */ type = com.unhurdle.spectrum.const.IconType.STAR;
    this.com_unhurdle_spectrum_Rating_icon1 = new com.unhurdle.spectrum.Icon(com.unhurdle.spectrum.Icon.getCSSTypeSelector(type));
    this.com_unhurdle_spectrum_Rating_icon1.type = type;
    this.com_unhurdle_spectrum_Rating_icon1.className = this.appendSelector("-starActive");
    span.addElement(this.com_unhurdle_spectrum_Rating_icon1);
    type = com.unhurdle.spectrum.const.IconType.STAR_OUTLINE;
    this.com_unhurdle_spectrum_Rating_icon2 = new com.unhurdle.spectrum.Icon(com.unhurdle.spectrum.Icon.getCSSTypeSelector(type));
    this.com_unhurdle_spectrum_Rating_icon2.type = type;
    this.com_unhurdle_spectrum_Rating_icon2.className = this.appendSelector("-starInactive");
    span.addElement(this.com_unhurdle_spectrum_Rating_icon2);
    this.addElement(span);
    span.addEventListener("click", org.apache.royale.utils.Language.closure(this.com_unhurdle_spectrum_Rating_handleClick, this, 'com_unhurdle_spectrum_Rating_handleClick'));
  }
};


/**
 * @private
 * @type {com.unhurdle.spectrum.Icon}
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating_icon1 = null;


/**
 * @private
 * @type {com.unhurdle.spectrum.Icon}
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating_icon2 = null;


/**
 * @private
 * @type {org.apache.royale.html.elements.Span}
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating_span = null;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating__disabled = false;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating__quiet = false;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.Rating.prototype.com_unhurdle_spectrum_Rating__readOnly = false;


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.Rating.prototype.max;


com.unhurdle.spectrum.Rating.prototype.get__max = function() {
  return Number(this.com_unhurdle_spectrum_Rating_input.max);
};


com.unhurdle.spectrum.Rating.prototype.set__max = function(val) {
  this.com_unhurdle_spectrum_Rating_input.max = "" + val;
  if (!this.parent) {
    return;
  }
  this.com_unhurdle_spectrum_Rating_validateIconElements();
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.Rating.prototype.value;


com.unhurdle.spectrum.Rating.prototype.get__value = function() {
  return Number(this.com_unhurdle_spectrum_Rating_input.value);
};


com.unhurdle.spectrum.Rating.prototype.set__value = function(val) {
  this.com_unhurdle_spectrum_Rating_input.value = "" + val;
  if (!this.parent) {
    return;
  }
  this.com_unhurdle_spectrum_Rating_validateIconElements();
  var /** @type {number} */ len = this.numElements;
  for (var /** @type {number} */ i = 1; i < len; i++) {
    if (i > val) {
      this.element.children[i].classList.remove("is-selected");
      this.element.children[i].classList.remove("is-currentValue");
    } else {
      this.element.children[i].classList.add("is-selected");
    }
    if (i == val) {
      this.element.children[i].classList.add("is-currentValue");
    }
  }
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.Rating.prototype.disabled;


com.unhurdle.spectrum.Rating.prototype.get__disabled = function() {
  return this.com_unhurdle_spectrum_Rating__disabled;
};


com.unhurdle.spectrum.Rating.prototype.set__disabled = function(value) {
  if (value != !!this.com_unhurdle_spectrum_Rating__disabled) {
    this.toggle("is-disabled", value);
    this.com_unhurdle_spectrum_Rating_input.disabled = value;
  }
  this.com_unhurdle_spectrum_Rating__disabled = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.Rating.prototype.quiet;


com.unhurdle.spectrum.Rating.prototype.get__quiet = function() {
  return this.com_unhurdle_spectrum_Rating__quiet;
};


com.unhurdle.spectrum.Rating.prototype.set__quiet = function(value) {
  if (value != !!this.com_unhurdle_spectrum_Rating__quiet) {
    this.toggle(this.valueToSelector("quiet"), value);
  }
  this.com_unhurdle_spectrum_Rating__quiet = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.Rating.prototype.readOnly;


com.unhurdle.spectrum.Rating.prototype.get__readOnly = function() {
  return this.com_unhurdle_spectrum_Rating__readOnly;
};


com.unhurdle.spectrum.Rating.prototype.set__readOnly = function(value) {
  if (value != !!this.com_unhurdle_spectrum_Rating__readOnly) {
    this.toggle("is-readOnly", value);
    this.com_unhurdle_spectrum_Rating_input.readOnly = value;
  }
  this.com_unhurdle_spectrum_Rating__readOnly = value;
};


Object.defineProperties(com.unhurdle.spectrum.Rating.prototype, /** @lends {com.unhurdle.spectrum.Rating.prototype} */ {
/**
 * @type {number}
 */
max: {
get: com.unhurdle.spectrum.Rating.prototype.get__max,
set: com.unhurdle.spectrum.Rating.prototype.set__max},
/**
 * @type {number}
 */
value: {
get: com.unhurdle.spectrum.Rating.prototype.get__value,
set: com.unhurdle.spectrum.Rating.prototype.set__value},
/**
 * @type {boolean}
 */
disabled: {
get: com.unhurdle.spectrum.Rating.prototype.get__disabled,
set: com.unhurdle.spectrum.Rating.prototype.set__disabled},
/**
 * @type {boolean}
 */
quiet: {
get: com.unhurdle.spectrum.Rating.prototype.get__quiet,
set: com.unhurdle.spectrum.Rating.prototype.set__quiet},
/**
 * @type {boolean}
 */
readOnly: {
get: com.unhurdle.spectrum.Rating.prototype.get__readOnly,
set: com.unhurdle.spectrum.Rating.prototype.set__readOnly}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
com.unhurdle.spectrum.Rating.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'Rating', qName: 'com.unhurdle.spectrum.Rating', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
com.unhurdle.spectrum.Rating.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    accessors: function () {
      return {
        'max': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.Rating'},
        'value': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.Rating'},
        'disabled': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.Rating'},
        'quiet': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.Rating'},
        'readOnly': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.Rating'}
      };
    },
    methods: function () {
      return {
        'Rating': { type: '', declaredBy: 'com.unhurdle.spectrum.Rating'},
        'addedToParent': { type: 'void', declaredBy: 'com.unhurdle.spectrum.Rating'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
com.unhurdle.spectrum.Rating.prototype.ROYALE_COMPILE_FLAGS = 11;

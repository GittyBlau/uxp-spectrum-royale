/**
 * Generated by Apache Royale Compiler from com/unhurdle/spectrum/model/DatePickerModel.as
 * com.unhurdle.spectrum.model.DatePickerModel
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('com.unhurdle.spectrum.model.DatePickerModel');
/* Royale Dependency List: com.unhurdle.spectrum.utils.DateUtil,org.apache.royale.core.IStrand,org.apache.royale.events.Event*/

goog.require('org.apache.royale.events.EventDispatcher');
goog.require('org.apache.royale.core.IDateChooserModel');



/**
 * @constructor
 * @extends {org.apache.royale.events.EventDispatcher}
 * @implements {org.apache.royale.core.IDateChooserModel}
 */
com.unhurdle.spectrum.model.DatePickerModel = function() {
  com.unhurdle.spectrum.model.DatePickerModel.base(this, 'constructor');

this.com_unhurdle_spectrum_model_DatePickerModel__dayNames = com.unhurdle.spectrum.utils.DateUtil.getLongWeekdays();
this.com_unhurdle_spectrum_model_DatePickerModel__monthNames = com.unhurdle.spectrum.utils.DateUtil.getMonths();
this.com_unhurdle_spectrum_model_DatePickerModel__narrowDayNames = com.unhurdle.spectrum.utils.DateUtil.getNarrowWeekdays();
this.com_unhurdle_spectrum_model_DatePickerModel__shortDayNames = com.unhurdle.spectrum.utils.DateUtil.getShortWeekdays();
};
goog.inherits(com.unhurdle.spectrum.model.DatePickerModel, org.apache.royale.events.EventDispatcher);


/**
 * @private
 * @type {org.apache.royale.core.IStrand}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__strand = null;


/**
 * @private
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__dayNames = null;


/**
 * @private
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__monthNames = null;


/**
 * @private
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__days = null;


/**
 * @private
 * @type {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__displayedYear = NaN;


/**
 * @private
 * @type {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__displayedMonth = NaN;


/**
 * @private
 * @type {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__firstDayOfWeek = 0;


/**
 * @private
 * @type {Date}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__selectedDate = null;


/**
 * @private
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__narrowDayNames = null;


/**
 * @private
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel__shortDayNames = null;


/**
 * @asprivate
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.updateCalendar = function() {
  var /** @type {Date} */ firstDay = new Date(this.displayedYear, this.displayedMonth, 1);
  this.com_unhurdle_spectrum_model_DatePickerModel__days = new Array(42);
  var /** @type {number} */ i = (firstDay.getDay()) >> 0;
  var /** @type {number} */ dayNumber = 1;
  var /** @type {number} */ numDays = this.com_unhurdle_spectrum_model_DatePickerModel_numberOfDaysInMonth(this.displayedMonth, this.displayedYear);
  while (dayNumber <= numDays) {
    this.com_unhurdle_spectrum_model_DatePickerModel__days[i++] = new Date(this.displayedYear, this.displayedMonth, dayNumber++);
  }
};


/**
 * @asprivate
 * @private
 * @param {number} month
 * @param {number} year
 * @return {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.com_unhurdle_spectrum_model_DatePickerModel_numberOfDaysInMonth = function(month, year) {
  var /** @type {number} */ n = 0;
  //var /** @type {number} */ n = 0;
  if (month == 1) {
    if (((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0))
      n = 29;
    else
      n = 28;
  }
  else if (month == 3 || month == 5 || month == 8 || month == 10)
    n = 30;
  else
    n = 31;
  return n;
};


/**
 * @asprivate
 * @return {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.getIndexForSelectedDate = function() {
  if (!this.com_unhurdle_spectrum_model_DatePickerModel__selectedDate)
    return -1;
  var /** @type {string} */ str = this.com_unhurdle_spectrum_model_DatePickerModel__selectedDate.toDateString();
  for (var /** @type {number} */ i = 0; i < this.com_unhurdle_spectrum_model_DatePickerModel__days.length; i++) {
    var /** @type {Date} */ test = this.com_unhurdle_spectrum_model_DatePickerModel__days[i];
    if (test && test.toDateString() == str)
      return i;
  }
  return -1;
};


/**
 * @nocollapse
 * @export
 * @type {org.apache.royale.core.IStrand}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.strand;


com.unhurdle.spectrum.model.DatePickerModel.prototype.set__strand = function(value) {
  this.com_unhurdle_spectrum_model_DatePickerModel__strand = value;
};


/**
 * @nocollapse
 * @export
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.dayNames;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__dayNames = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__dayNames;
};


com.unhurdle.spectrum.model.DatePickerModel.prototype.set__dayNames = function(value) {
  this.com_unhurdle_spectrum_model_DatePickerModel__dayNames = value;
  this.dispatchEvent(new org.apache.royale.events.Event("dayNamesChanged"));
};


/**
 * @nocollapse
 * @export
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.narrowDayNames;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__narrowDayNames = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__narrowDayNames;
};


/**
 * @nocollapse
 * @export
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.shortDayNames;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__shortDayNames = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__shortDayNames;
};


/**
 * @nocollapse
 * @export
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.monthNames;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__monthNames = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__monthNames;
};


com.unhurdle.spectrum.model.DatePickerModel.prototype.set__monthNames = function(value) {
  this.com_unhurdle_spectrum_model_DatePickerModel__monthNames = value;
  this.dispatchEvent(new org.apache.royale.events.Event("monthNames"));
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.displayedYear;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__displayedYear = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__displayedYear;
};


com.unhurdle.spectrum.model.DatePickerModel.prototype.set__displayedYear = function(value) {
  if (value != this.com_unhurdle_spectrum_model_DatePickerModel__displayedYear) {
    this.com_unhurdle_spectrum_model_DatePickerModel__displayedYear = value;
    this.updateCalendar();
    this.dispatchEvent(new org.apache.royale.events.Event("displayedYearChanged"));
  }
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.displayedMonth;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__displayedMonth = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__displayedMonth;
};


com.unhurdle.spectrum.model.DatePickerModel.prototype.set__displayedMonth = function(value) {
  if (this.com_unhurdle_spectrum_model_DatePickerModel__displayedMonth != value) {
    this.com_unhurdle_spectrum_model_DatePickerModel__displayedMonth = value;
    this.updateCalendar();
    this.dispatchEvent(new org.apache.royale.events.Event("displayedMonthChanged"));
  }
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.firstDayOfWeek;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__firstDayOfWeek = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__firstDayOfWeek;
};


com.unhurdle.spectrum.model.DatePickerModel.prototype.set__firstDayOfWeek = function(value) {
  if (value != this.com_unhurdle_spectrum_model_DatePickerModel__firstDayOfWeek) {
    this.com_unhurdle_spectrum_model_DatePickerModel__firstDayOfWeek = value;
    this.dispatchEvent(new org.apache.royale.events.Event("firstDayOfWeekChanged"));
  }
};


/**
 * @nocollapse
 * @export
 * @type {Array}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.days;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__days = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__days;
};


com.unhurdle.spectrum.model.DatePickerModel.prototype.set__days = function(value) {
  if (value != this.com_unhurdle_spectrum_model_DatePickerModel__days) {
    this.com_unhurdle_spectrum_model_DatePickerModel__days = value;
    this.dispatchEvent(new org.apache.royale.events.Event("daysChanged"));
  }
};


/**
 * @nocollapse
 * @export
 * @type {Date}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.selectedDate;


com.unhurdle.spectrum.model.DatePickerModel.prototype.get__selectedDate = function() {
  return this.com_unhurdle_spectrum_model_DatePickerModel__selectedDate;
};


com.unhurdle.spectrum.model.DatePickerModel.prototype.set__selectedDate = function(value) {
  if (value != this.com_unhurdle_spectrum_model_DatePickerModel__selectedDate) {
    this.com_unhurdle_spectrum_model_DatePickerModel__selectedDate = value;
    if (value != null) {
      var /** @type {boolean} */ needsUpdate = false;
      if (value.getMonth() != this.com_unhurdle_spectrum_model_DatePickerModel__displayedMonth) {
        needsUpdate = true;
        this.com_unhurdle_spectrum_model_DatePickerModel__displayedMonth = value.getMonth();
      }
      if (value.getFullYear() != this.com_unhurdle_spectrum_model_DatePickerModel__displayedYear) {
        needsUpdate = true;
        this.com_unhurdle_spectrum_model_DatePickerModel__displayedYear = value.getFullYear();
      }
      if (needsUpdate)
        this.updateCalendar();
    }
    this.dispatchEvent(new org.apache.royale.events.Event("selectedDateChanged"));
  }
};


Object.defineProperties(com.unhurdle.spectrum.model.DatePickerModel.prototype, /** @lends {com.unhurdle.spectrum.model.DatePickerModel.prototype} */ {
/**
 * @type {org.apache.royale.core.IStrand}
 */
strand: {
set: com.unhurdle.spectrum.model.DatePickerModel.prototype.set__strand},
/**
 * @type {Array}
 */
dayNames: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__dayNames,
set: com.unhurdle.spectrum.model.DatePickerModel.prototype.set__dayNames},
/**
 * @type {Array}
 */
narrowDayNames: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__narrowDayNames},
/**
 * @type {Array}
 */
shortDayNames: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__shortDayNames},
/**
 * @type {Array}
 */
monthNames: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__monthNames,
set: com.unhurdle.spectrum.model.DatePickerModel.prototype.set__monthNames},
/**
 * @type {number}
 */
displayedYear: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__displayedYear,
set: com.unhurdle.spectrum.model.DatePickerModel.prototype.set__displayedYear},
/**
 * @type {number}
 */
displayedMonth: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__displayedMonth,
set: com.unhurdle.spectrum.model.DatePickerModel.prototype.set__displayedMonth},
/**
 * @type {number}
 */
firstDayOfWeek: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__firstDayOfWeek,
set: com.unhurdle.spectrum.model.DatePickerModel.prototype.set__firstDayOfWeek},
/**
 * @type {Array}
 */
days: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__days,
set: com.unhurdle.spectrum.model.DatePickerModel.prototype.set__days},
/**
 * @type {Date}
 */
selectedDate: {
get: com.unhurdle.spectrum.model.DatePickerModel.prototype.get__selectedDate,
set: com.unhurdle.spectrum.model.DatePickerModel.prototype.set__selectedDate}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'DatePickerModel', qName: 'com.unhurdle.spectrum.model.DatePickerModel', kind: 'class' }], interfaces: [org.apache.royale.core.IDateChooserModel] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    accessors: function () {
      return {
        'strand': { type: 'org.apache.royale.core.IStrand', access: 'writeonly', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'dayNames': { type: 'Array', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'narrowDayNames': { type: 'Array', access: 'readonly', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'shortDayNames': { type: 'Array', access: 'readonly', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'monthNames': { type: 'Array', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'displayedYear': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'displayedMonth': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'firstDayOfWeek': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'days': { type: 'Array', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'selectedDate': { type: 'Date', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'}
      };
    },
    methods: function () {
      return {
        'DatePickerModel': { type: '', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'updateCalendar': { type: 'void', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'},
        'getIndexForSelectedDate': { type: 'Number', declaredBy: 'com.unhurdle.spectrum.model.DatePickerModel'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
com.unhurdle.spectrum.model.DatePickerModel.prototype.ROYALE_COMPILE_FLAGS = 11;

/**
 * Generated by Apache Royale Compiler from com/unhurdle/spectrum/BarLoader.as
 * com.unhurdle.spectrum.BarLoader
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('com.unhurdle.spectrum.BarLoader');
/* Royale Dependency List: com.unhurdle.spectrum.TextNode,com.unhurdle.spectrum.newElement,org.apache.royale.core.WrappedHTMLElement*/

goog.require('com.unhurdle.spectrum.SpectrumBase');



/**
 * <inject_html>
 * <link rel="stylesheet" href="assets/css/components/barloader/dist.css">
 * </inject_html>
 * 
 * @constructor
 * @extends {com.unhurdle.spectrum.SpectrumBase}
 */
com.unhurdle.spectrum.BarLoader = function() {
  com.unhurdle.spectrum.BarLoader.base(this, 'constructor');
};
goog.inherits(com.unhurdle.spectrum.BarLoader, com.unhurdle.spectrum.SpectrumBase);


/**
 * @protected
 * @override
 */
com.unhurdle.spectrum.BarLoader.prototype.getSelector = function() {
  return "spectrum-BarLoader";
};


/**
 * @private
 * @type {string}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__label = null;


/**
 * @private
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__max = 100;


/**
 * @private
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__min = 0;


/**
 * @private
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__value = 0;


/**
 * @private
 * @type {string}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__valueSuffix = "%";


/**
 * @override
 */
com.unhurdle.spectrum.BarLoader.prototype.addedToParent = function() {
  com.unhurdle.spectrum.BarLoader.superClass_.addedToParent.apply(this);
  this.com_unhurdle_spectrum_BarLoader_calculatePosition();
};


/**
 * @private
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader_calculatePosition = function() {
  if (!this.parent || this.com_unhurdle_spectrum_BarLoader__indeterminate) {
    return;
  }
  if (this.value) {
    var /** @type {number} */ total = this.com_unhurdle_spectrum_BarLoader__max - this.com_unhurdle_spectrum_BarLoader__min;
    var /** @type {number} */ percent = this.value / total * 100;
  } else {
    percent = 0;
  }
  if (this.com_unhurdle_spectrum_BarLoader__meter) {
    if (percent < this.com_unhurdle_spectrum_BarLoader__warningThreshold) {
      this.com_unhurdle_spectrum_BarLoader_setColor("is-positive");
    } else if (percent < this.com_unhurdle_spectrum_BarLoader__criticalThreshold) {
      this.com_unhurdle_spectrum_BarLoader_setColor("is-warning");
    } else {
      this.com_unhurdle_spectrum_BarLoader_setColor("is-critical");
    }
  } else {
    this.com_unhurdle_spectrum_BarLoader_setColor("");
  }
  var /** @type {string} */ percentStr = percent + "%";
  this.com_unhurdle_spectrum_BarLoader_valueNode.text = this.value + this.com_unhurdle_spectrum_BarLoader__valueSuffix;
  this.com_unhurdle_spectrum_BarLoader_fill.style.width = percentStr;
  this.setAttribute("value", percent);
  this.setAttribute("aria-valuenow", percent);
  this.setAttribute("aria-valuemin", this.min);
  this.setAttribute("aria-valuemax", this.max);
};


/**
 * @private
 * @type {HTMLElement}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader_fill = null;


/**
 * @private
 * @type {com.unhurdle.spectrum.TextNode}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader_valueNode = null;


/**
 * @private
 * @type {com.unhurdle.spectrum.TextNode}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader_labelNode = null;


/**
 * @protected
 * @override
 */
com.unhurdle.spectrum.BarLoader.prototype.createElement = function() {
  var /** @type {org.apache.royale.core.WrappedHTMLElement} */ elem = com.unhurdle.spectrum.BarLoader.superClass_.createElement.apply(this);
  elem.setAttribute("role", "progressbar");
  var /** @type {string} */ baseSelector = this.getSelector();
  this.com_unhurdle_spectrum_BarLoader_labelNode = new com.unhurdle.spectrum.TextNode("div");
  this.com_unhurdle_spectrum_BarLoader_labelNode.className = baseSelector + "-label";
  this.com_unhurdle_spectrum_BarLoader_labelNode.element.style.display = "none";
  elem.appendChild(this.com_unhurdle_spectrum_BarLoader_labelNode.element);
  this.com_unhurdle_spectrum_BarLoader_valueNode = new com.unhurdle.spectrum.TextNode("div");
  this.com_unhurdle_spectrum_BarLoader_valueNode.className = baseSelector + "-percentage";
  elem.appendChild(this.com_unhurdle_spectrum_BarLoader_valueNode.element);
  var /** @type {HTMLElement} */ track = com.unhurdle.spectrum.newElement("div");
  track.className = baseSelector + "-track";
  track.style.flexGrow = 1;
  this.com_unhurdle_spectrum_BarLoader_fill = com.unhurdle.spectrum.newElement("div");
  this.com_unhurdle_spectrum_BarLoader_fill.className = baseSelector + "-fill";
  this.com_unhurdle_spectrum_BarLoader_fill.style.width = this.value;
  track.appendChild(this.com_unhurdle_spectrum_BarLoader_fill);
  elem.appendChild(track);
  return elem;
};


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__meter = false;


/**
 * @private
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__warningThreshold = 80;


/**
 * @private
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__criticalThreshold = 90;


/**
 * @private
 * @type {string}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__color = null;


/**
 * @private
 * @param {string} value
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader_setColor = function(value) {
  if (value != this.com_unhurdle_spectrum_BarLoader__color) {
    if (this.com_unhurdle_spectrum_BarLoader__color) {
      this.toggle(this.com_unhurdle_spectrum_BarLoader__color, false);
    }
    if (value) {
      this.toggle(value, true);
    }
    this.com_unhurdle_spectrum_BarLoader__color = value;
  }
};


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__sideLabel = false;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__small = false;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__overBackground = false;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__showPercentage = true;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.com_unhurdle_spectrum_BarLoader__indeterminate = false;


/**
 * @nocollapse
 * @export
 * @type {string}
 */
com.unhurdle.spectrum.BarLoader.prototype.label;


com.unhurdle.spectrum.BarLoader.prototype.get__label = function() {
  return this.com_unhurdle_spectrum_BarLoader__label;
};


com.unhurdle.spectrum.BarLoader.prototype.set__label = function(value) {
  this.com_unhurdle_spectrum_BarLoader__label = value;
  this.com_unhurdle_spectrum_BarLoader_labelNode.element.style.display = "inherit";
  this.com_unhurdle_spectrum_BarLoader_labelNode.text = value;
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.max;


com.unhurdle.spectrum.BarLoader.prototype.get__max = function() {
  return this.com_unhurdle_spectrum_BarLoader__max;
};


com.unhurdle.spectrum.BarLoader.prototype.set__max = function(value) {
  this.com_unhurdle_spectrum_BarLoader__max = value;
  if (this.com_unhurdle_spectrum_BarLoader__value) {
    this.com_unhurdle_spectrum_BarLoader_calculatePosition();
  }
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.min;


com.unhurdle.spectrum.BarLoader.prototype.get__min = function() {
  return this.com_unhurdle_spectrum_BarLoader__min;
};


com.unhurdle.spectrum.BarLoader.prototype.set__min = function(value) {
  this.com_unhurdle_spectrum_BarLoader__min = value;
  if (this.com_unhurdle_spectrum_BarLoader__value) {
    this.com_unhurdle_spectrum_BarLoader_calculatePosition();
  }
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.value;


com.unhurdle.spectrum.BarLoader.prototype.get__value = function() {
  return this.com_unhurdle_spectrum_BarLoader__value;
};


com.unhurdle.spectrum.BarLoader.prototype.set__value = function(value) {
  this.com_unhurdle_spectrum_BarLoader__value = value;
  this.com_unhurdle_spectrum_BarLoader_calculatePosition();
};


/**
 * @nocollapse
 * @export
 * @type {string}
 */
com.unhurdle.spectrum.BarLoader.prototype.valueSuffix;


com.unhurdle.spectrum.BarLoader.prototype.get__valueSuffix = function() {
  return this.com_unhurdle_spectrum_BarLoader__valueSuffix;
};


com.unhurdle.spectrum.BarLoader.prototype.set__valueSuffix = function(value) {
  this.com_unhurdle_spectrum_BarLoader__valueSuffix = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.meter;


com.unhurdle.spectrum.BarLoader.prototype.get__meter = function() {
  return this.com_unhurdle_spectrum_BarLoader__meter;
};


com.unhurdle.spectrum.BarLoader.prototype.set__meter = function(value) {
  this.com_unhurdle_spectrum_BarLoader__meter = value;
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.warningThreshold;


com.unhurdle.spectrum.BarLoader.prototype.get__warningThreshold = function() {
  return this.com_unhurdle_spectrum_BarLoader__warningThreshold;
};


com.unhurdle.spectrum.BarLoader.prototype.set__warningThreshold = function(value) {
  this.com_unhurdle_spectrum_BarLoader__warningThreshold = value;
};


/**
 * @nocollapse
 * @export
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.criticalThreshold;


com.unhurdle.spectrum.BarLoader.prototype.get__criticalThreshold = function() {
  return this.com_unhurdle_spectrum_BarLoader__criticalThreshold;
};


com.unhurdle.spectrum.BarLoader.prototype.set__criticalThreshold = function(value) {
  this.com_unhurdle_spectrum_BarLoader__criticalThreshold = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.sideLabel;


com.unhurdle.spectrum.BarLoader.prototype.get__sideLabel = function() {
  return this.com_unhurdle_spectrum_BarLoader__sideLabel;
};


com.unhurdle.spectrum.BarLoader.prototype.set__sideLabel = function(value) {
  if (value != !!this.com_unhurdle_spectrum_BarLoader__sideLabel) {
    this.toggle(this.valueToSelector("sideLabel"), value);
  }
  this.com_unhurdle_spectrum_BarLoader__sideLabel = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.small;


com.unhurdle.spectrum.BarLoader.prototype.get__small = function() {
  return this.com_unhurdle_spectrum_BarLoader__small;
};


com.unhurdle.spectrum.BarLoader.prototype.set__small = function(value) {
  if (value != !!this.com_unhurdle_spectrum_BarLoader__small) {
    this.toggle(this.valueToSelector("small"), value);
  }
  this.com_unhurdle_spectrum_BarLoader__small = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.overBackground;


com.unhurdle.spectrum.BarLoader.prototype.get__overBackground = function() {
  return this.overBackground;
};


com.unhurdle.spectrum.BarLoader.prototype.set__overBackground = function(value) {
  if (value != !!this.com_unhurdle_spectrum_BarLoader__overBackground) {
    this.toggle(this.valueToSelector("overBackground"), value);
  }
  this.com_unhurdle_spectrum_BarLoader__overBackground = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.showPercentage;


com.unhurdle.spectrum.BarLoader.prototype.get__showPercentage = function() {
  return this.com_unhurdle_spectrum_BarLoader__showPercentage;
};


com.unhurdle.spectrum.BarLoader.prototype.set__showPercentage = function(value) {
  if (value) {
    this.com_unhurdle_spectrum_BarLoader_valueNode.element.style.display = "inherit";
  } else {
    this.com_unhurdle_spectrum_BarLoader_valueNode.element.style.display = "none";
  }
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.BarLoader.prototype.indeterminate;


com.unhurdle.spectrum.BarLoader.prototype.get__indeterminate = function() {
  return this.com_unhurdle_spectrum_BarLoader__indeterminate;
};


com.unhurdle.spectrum.BarLoader.prototype.set__indeterminate = function(value) {
  if (value != !!this.com_unhurdle_spectrum_BarLoader__indeterminate) {
    this.com_unhurdle_spectrum_BarLoader__indeterminate = value;
    if (value) {
      this.com_unhurdle_spectrum_BarLoader_setColor("");
      this.com_unhurdle_spectrum_BarLoader_valueNode.text = "";
      this.com_unhurdle_spectrum_BarLoader_fill.style.width = "";
    } else {
      this.com_unhurdle_spectrum_BarLoader_calculatePosition();
    }
    this.toggle(this.valueToSelector("indeterminate"), value);
  }
};


Object.defineProperties(com.unhurdle.spectrum.BarLoader.prototype, /** @lends {com.unhurdle.spectrum.BarLoader.prototype} */ {
/**
 * @type {string}
 */
label: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__label,
set: com.unhurdle.spectrum.BarLoader.prototype.set__label},
/**
 * @type {number}
 */
max: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__max,
set: com.unhurdle.spectrum.BarLoader.prototype.set__max},
/**
 * @type {number}
 */
min: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__min,
set: com.unhurdle.spectrum.BarLoader.prototype.set__min},
/**
 * @type {number}
 */
value: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__value,
set: com.unhurdle.spectrum.BarLoader.prototype.set__value},
/**
 * @type {string}
 */
valueSuffix: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__valueSuffix,
set: com.unhurdle.spectrum.BarLoader.prototype.set__valueSuffix},
/**
 * @type {boolean}
 */
meter: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__meter,
set: com.unhurdle.spectrum.BarLoader.prototype.set__meter},
/**
 * @type {number}
 */
warningThreshold: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__warningThreshold,
set: com.unhurdle.spectrum.BarLoader.prototype.set__warningThreshold},
/**
 * @type {number}
 */
criticalThreshold: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__criticalThreshold,
set: com.unhurdle.spectrum.BarLoader.prototype.set__criticalThreshold},
/**
 * @type {boolean}
 */
sideLabel: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__sideLabel,
set: com.unhurdle.spectrum.BarLoader.prototype.set__sideLabel},
/**
 * @type {boolean}
 */
small: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__small,
set: com.unhurdle.spectrum.BarLoader.prototype.set__small},
/**
 * @type {boolean}
 */
overBackground: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__overBackground,
set: com.unhurdle.spectrum.BarLoader.prototype.set__overBackground},
/**
 * @type {boolean}
 */
showPercentage: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__showPercentage,
set: com.unhurdle.spectrum.BarLoader.prototype.set__showPercentage},
/**
 * @type {boolean}
 */
indeterminate: {
get: com.unhurdle.spectrum.BarLoader.prototype.get__indeterminate,
set: com.unhurdle.spectrum.BarLoader.prototype.set__indeterminate}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
com.unhurdle.spectrum.BarLoader.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'BarLoader', qName: 'com.unhurdle.spectrum.BarLoader', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
com.unhurdle.spectrum.BarLoader.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    accessors: function () {
      return {
        'label': { type: 'String', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'max': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'min': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'value': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'valueSuffix': { type: 'String', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'meter': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'warningThreshold': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'criticalThreshold': { type: 'Number', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'sideLabel': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'small': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'overBackground': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'showPercentage': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'indeterminate': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.BarLoader'}
      };
    },
    methods: function () {
      return {
        'BarLoader': { type: '', declaredBy: 'com.unhurdle.spectrum.BarLoader'},
        'addedToParent': { type: 'void', declaredBy: 'com.unhurdle.spectrum.BarLoader'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
com.unhurdle.spectrum.BarLoader.prototype.ROYALE_COMPILE_FLAGS = 11;

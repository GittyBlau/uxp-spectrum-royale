/**
 * Generated by Apache Royale Compiler from com/unhurdle/spectrum/ExpandSearch.as
 * com.unhurdle.spectrum.ExpandSearch
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('com.unhurdle.spectrum.ExpandSearch');
/* Royale Dependency List: org.apache.royale.events.Event,org.apache.royale.utils.Language*/

goog.require('com.unhurdle.spectrum.Search');



/**
 * @constructor
 * @extends {com.unhurdle.spectrum.Search}
 */
com.unhurdle.spectrum.ExpandSearch = function() {
  com.unhurdle.spectrum.ExpandSearch.base(this, 'constructor');
  this.element.addEventListener("focusin", org.apache.royale.utils.Language.closure(this.com_unhurdle_spectrum_ExpandSearch_onFocus, this, 'com_unhurdle_spectrum_ExpandSearch_onFocus'));
  this.element.addEventListener("focusout", org.apache.royale.utils.Language.closure(this.com_unhurdle_spectrum_ExpandSearch_onBlur, this, 'com_unhurdle_spectrum_ExpandSearch_onBlur'));
  this.com_unhurdle_spectrum_ExpandSearch_savedPosition = this.element.style.position;
  this.com_unhurdle_spectrum_ExpandSearch_savedLeft = this.element.style.left;
  this.com_unhurdle_spectrum_ExpandSearch_collapse();
};
goog.inherits(com.unhurdle.spectrum.ExpandSearch, com.unhurdle.spectrum.Search);


/**
 * @type {string}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.expandedWidth = null;


/**
 * @type {number}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.collapsedSize = 32;


/**
 * @private
 * @param {org.apache.royale.events.Event} ev
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_onFocus = function(ev) {
  this.com_unhurdle_spectrum_ExpandSearch_expand();
};


/**
 * @private
 * @param {org.apache.royale.events.Event} ev
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_onBlur = function(ev) {
  this.com_unhurdle_spectrum_ExpandSearch_collapse();
};


/**
 * @private
 * @type {string}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_savedPlacehold = null;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_collapsed = false;


/**
 * @private
 * @type {Object}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_savedWidth = null;


/**
 * @private
 * @type {string}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_savedPosition = null;


/**
 * @private
 * @type {string}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_savedLeft = null;


/**
 * @private
 * @type {string}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_savedValue = null;


/**
 * @private
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_collapse = function() {
  this.com_unhurdle_spectrum_ExpandSearch_collapsed = true;
  if (!this.com_unhurdle_spectrum_ExpandSearch_savedPlacehold) {
    this.com_unhurdle_spectrum_ExpandSearch_savedPlacehold = this.input.placeholder;
  }
  this.input.placeholder = "";
  this.com_unhurdle_spectrum_ExpandSearch_savedValue = this.input.text;
  this.input.text = "";
  this.button.visible = false;
  this.com_unhurdle_spectrum_ExpandSearch_savedWidth = this.element.style.width;
  this.element.style.position = this.com_unhurdle_spectrum_ExpandSearch_savedPosition;
  this.element.style.left = this.com_unhurdle_spectrum_ExpandSearch_savedLeft;
  this.element.style.height = this.collapsedSize + "px";
  this.element.style.width = this.collapsedSize + "px";
  this.element.style.zIndex = "";
  this.input.setStyle("min-width", 0);
  this.input.input.style.padding = 0;
  this.input.input.style.borderStyle = "none";
  this.input.input.style.backgroundColor = "transparent";
  this.input.input.style.cursor = "pointer";
  this.input.iconElement.setStyle("left", "8px");
};


/**
 *   background-color: rgb(255, 255, 255);
 
 
 * 
 * @private
 */
com.unhurdle.spectrum.ExpandSearch.prototype.com_unhurdle_spectrum_ExpandSearch_expand = function() {
  this.com_unhurdle_spectrum_ExpandSearch_collapsed = false;
  this.input.placeholder = this.com_unhurdle_spectrum_ExpandSearch_savedPlacehold;
  this.button.visible = true;
  this.input.text = this.com_unhurdle_spectrum_ExpandSearch_savedValue ? this.com_unhurdle_spectrum_ExpandSearch_savedValue : "";
  var /** @type {number} */ left = this.x;
  this.com_unhurdle_spectrum_ExpandSearch_savedPosition = this.element.style.position;
  this.com_unhurdle_spectrum_ExpandSearch_savedLeft = this.element.style.left;
  this.element.style.position = "absolute";
  this.element.style.left = left + "px";
  this.element.style.width = this.expandedWidth ? this.expandedWidth : this.com_unhurdle_spectrum_ExpandSearch_savedWidth;
  this.element.style.height = "";
  this.element.style.zIndex = 5;
  this.input.setStyle("min-width", "");
  this.input.input.style.padding = "";
  this.input.input.style.borderStyle = "";
  this.input.input.style.backgroundColor = "";
  this.input.input.style.cursor = "";
  this.input.iconElement.setStyle("left", "");
};


/**
 * @protected
 * @override
 */
com.unhurdle.spectrum.ExpandSearch.prototype.handleSubmit = function(ev) {
  this.input.input.blur();
  return com.unhurdle.spectrum.ExpandSearch.superClass_.handleSubmit.apply(this, [ ev] );
};


com.unhurdle.spectrum.ExpandSearch.prototype.get__placeholder = function() {
  if (this.com_unhurdle_spectrum_ExpandSearch_savedPlacehold) {
    return this.com_unhurdle_spectrum_ExpandSearch_savedPlacehold;
  }
  return this.input.placeholder;
};


com.unhurdle.spectrum.ExpandSearch.prototype.set__placeholder = function(value) {
  this.com_unhurdle_spectrum_ExpandSearch_savedPlacehold = value;
  if (!this.com_unhurdle_spectrum_ExpandSearch_collapsed) {
    this.input.placeholder = value;
  }
};


com.unhurdle.spectrum.ExpandSearch.prototype.get__text = function() {
  if (this.com_unhurdle_spectrum_ExpandSearch_collapsed) {
    return this.com_unhurdle_spectrum_ExpandSearch_savedValue;
  }
  return com.unhurdle.spectrum.ExpandSearch.superClass_.get__text.apply(this);
};


com.unhurdle.spectrum.ExpandSearch.prototype.set__text = function(value) {
  if (this.com_unhurdle_spectrum_ExpandSearch_collapsed) {
    this.com_unhurdle_spectrum_ExpandSearch_savedValue = this.text;
  } else {
    com.unhurdle.spectrum.ExpandSearch.superClass_.set__text.apply(this, [ value] );
  }
};


Object.defineProperties(com.unhurdle.spectrum.ExpandSearch.prototype, /** @lends {com.unhurdle.spectrum.ExpandSearch.prototype} */ {
/**
 * @type {string}
 */
placeholder: {
get: com.unhurdle.spectrum.ExpandSearch.prototype.get__placeholder,
set: com.unhurdle.spectrum.ExpandSearch.prototype.set__placeholder},
/**
 * @type {string}
 */
text: {
get: com.unhurdle.spectrum.ExpandSearch.prototype.get__text,
set: com.unhurdle.spectrum.ExpandSearch.prototype.set__text}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'ExpandSearch', qName: 'com.unhurdle.spectrum.ExpandSearch', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    variables: function () {
      return {
        'expandedWidth': { type: 'String', get_set: function (/** com.unhurdle.spectrum.ExpandSearch */ inst, /** * */ v) {return v !== undefined ? inst.expandedWidth = v : inst.expandedWidth;}},
        'collapsedSize': { type: 'Number', get_set: function (/** com.unhurdle.spectrum.ExpandSearch */ inst, /** * */ v) {return v !== undefined ? inst.collapsedSize = v : inst.collapsedSize;}}
      };
    },
    accessors: function () {
      return {
        'placeholder': { type: 'String', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.ExpandSearch'},
        'text': { type: 'String', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.ExpandSearch'}
      };
    },
    methods: function () {
      return {
        'ExpandSearch': { type: '', declaredBy: 'com.unhurdle.spectrum.ExpandSearch'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
com.unhurdle.spectrum.ExpandSearch.prototype.ROYALE_COMPILE_FLAGS = 11;
